## Comprehensive Summary of Network Security Class: Message Security, PKI, and TLS (Part 2)

**Subject:** CS 6.823 Network Security

**Instructor:** Professor Philip Mack

**Date:** Monday, March 31st, 2025 (Week 9)

**Learning Objectives:** This class aimed to delve deeper into the mechanics of message security, Public Key Infrastructure (PKI), and Transport Layer Security (TLS), focusing on their practical application in securing online transactions and other sensitive communications. The instructor aimed to demystify "military-grade encryption" and demonstrate its equivalence to the TLS technology used for everyday online security.

**Instructor's Approach:** Professor Mack employed a highly interactive approach, using real-world examples, live demonstrations (e.g., examining YouTube's security certificates), and posing frequent questions to the class to encourage active participation and critical thinking. He connected abstract concepts to tangible scenarios, like email and website security, to enhance understanding.

**Topics Covered:** The class covered digital signatures, certificate authorities (CAs), the X.509 v3 certificate format, certificate validation processes for emails and websites, the different types of TLS certificates (DV, OV, EV), and a brief introduction to TLS itself. The relevance of these topics stems from their crucial role in ensuring secure communication over the internet.

---

### Key Topics:

**1. Digital Signatures:**

* **Purpose:**  Digital signatures provide message integrity and authenticity, verifying that a message hasn't been tampered with and originates from the claimed sender (or, more accurately, the holder of the sender's private key).  They do *not* ensure confidentiality.

* **Mechanism:**
    1. **Hashing:** The message is hashed using a cryptographic hash function (e.g., SHA-256).
    2. **Encryption:** The resulting hash is encrypted using the sender's RSA private key. This encrypted hash is the digital signature.
    3. **Transmission:** The message and digital signature are sent to the recipient.

* **Verification:**
    1. **Decryption:** The recipient decrypts the digital signature using the sender's public key, retrieving the original hash.
    2. **Re-hashing:** The recipient hashes the received message using the same hash function.
    3. **Comparison:** The recipient compares the decrypted hash with the re-computed hash. If they match, the signature is valid.

* **Example (Email):** Alice sends a signed email to Bob. The email client computes the hash, encrypts it with Alice's private key, and attaches the digital signature to the email. Bob's email client performs the verification steps upon receipt.

* **Trudy's Role:**  Since digital signatures don't encrypt the message itself, an eavesdropper like Trudy can see the message content. However, Trudy cannot modify the message without invalidating the signature.

**2. Certificate Authorities (CAs):**

* **Role:** CAs are trusted entities that issue digital certificates. They act as validators of identity, confirming that a particular public key belongs to a specific entity (individual, organization, or website).

* **Issuance Process:**  An entity requesting a certificate must undergo a validation process, which varies depending on the certificate type and the CA. This might involve verifying email ownership, confirming business registration, or even video calls for high-assurance certificates.

* **Example (NYU ID Card):**  The process of obtaining an NYU ID card is analogous to obtaining a certificate from a CA.  NYU verifies your identity before issuing the card, which then grants access to various resources.

* **Website Certificate Example:** Obtaining a TLS certificate for a website involves proving ownership of the domain, often through DNS record updates or uploading specific files to the server.

**3. X.509 v3 Certificate Format:**

* **Standard Format:**  X.509 v3 is the standard format for digital certificates. It includes fields like version number, serial number, algorithm identifier, issuer information, validity period, subject name, public key information, extensions, and the digital signature.

* **Digital Signature in Certificates:**  The certificate itself is digitally signed by the issuing CA, ensuring its integrity. The signature is generated by hashing the certificate content and encrypting the hash with the CA's private key.

**4. Certificate Validation (Websites):**

* **Chain of Trust:**  Website certificate validation involves a chain of trust.  The browser checks the certificate's signature against the issuer's public key.  If the issuer is an intermediate CA, the browser then checks the intermediate CA's certificate against its issuer (potentially another intermediate CA or a root CA), and so on, until it reaches a trusted root CA certificate stored in the browser.

* **Example (YouTube/Google.com):** The class explored the certificate chain for youtube.com, demonstrating how the browser validates the certificate issued for youtube.com against an intermediate CA (WR 2), which is then validated against a root CA (GTS Root R 1). The browser trusts GTS Root R 1 because its certificate is pre-installed in the browser's trust store.

* **Trust Stores:** Browsers maintain a list of trusted root CA certificates.  Any certificate signed by a trusted root CA (or a valid chain leading to a trusted root CA) is considered valid by the browser.

**5. Certificate Validation (Emails):**

* **Less Rigorous:** Email certificate validation is significantly less rigorous than website certificate validation. There's no chain of trust verification, and email clients don't typically check with CAs.

* **Trust Mechanisms:** Trust in email certificates relies primarily on two factors:
    1. **Common Name (CN):** The certificate's CN should match the sender's email address.
    2. **Explicit Trust:** The recipient must explicitly trust the certificate by adding it to their trust store. This often involves an out-of-band communication (e.g., a phone call) to confirm the certificate's legitimacy.

**6. TLS Certificate Types (DV, OV, EV):**

* **Domain Validated (DV):** Verifies only domain ownership.  The most common and often free (e.g., Let's Encrypt).

* **Organization Validated (OV):** Verifies the organization's identity, ensuring it's a registered business.

* **Extended Validation (EV):**  The most rigorous, validating the organization's identity and its right to use the domain name.  However, browsers no longer provide visual indicators for EV certificates, diminishing their value.

**7. Introduction to TLS:**

* **Purpose:** TLS secures communication over the internet, used for everything from online shopping to VPNs.

* **Cryptographic Algorithms:** TLS uses a combination of three types of cryptographic algorithms:
    * **Key Exchange:** For establishing a shared secret key (e.g., RSA, Diffie-Hellman).
    * **Bulk Encryption:** For encrypting the actual data (e.g., AES, ChaCha20).
    * **Hashing:** For message integrity checks (e.g., SHA-256).

* **TLS Versions:** The class briefly touched upon the history of TLS, from its origins as SSL to the current version, TLS 1.3.

---

### Exercises & Discussions:

* **Exercise 1:**  Discussed the potential risks of trusting a digitally signed email certificate, highlighting the lack of robust validation in email PKI compared to website PKI.

* **Exercise 2:**  Students analyzed the certificate chain for newyorktimes.com in Firefox, examining the various fields in the certificates and the validation process.

* **Exercise 3:**  Students researched the cost of one-year TLS certificates, finding a wide range of prices and discussing the factors influencing the cost (DV, OV, EV, features, vendor).

* **Discussion:**  The class debated the merits of free vs. paid certificates, the value of EV certificates given the lack of browser indicators, and the security implications of certificate validity periods.

---

### Important Announcements:

* **Lab 3:** Released, due April 6th. 5% bonus for submitting by April 1st.  Auto-graded. Details in Week 8 video.

* **Homework 3:** Released, due later. Covers inspecting a TLS session.  Material will be covered next week.

---

### Final Takeaways:

* **Understanding PKI and TLS:** The class provided a deeper understanding of the mechanics of digital signatures, CAs, and certificate validation, crucial for secure online communication.

* **Real-world Application:**  The concepts were connected to real-world scenarios, like email and website security, making them more relatable and practical.

* **Security Awareness:**  The discussion on certificate types and validation highlighted the importance of critical thinking and awareness of potential security vulnerabilities, even with seemingly secure technologies like EV certificates.

**Follow-up Actions:**

* Review the certificate validation process for different websites.
* Research the various types of TLS certificates and their applications.
* Explore Let's Encrypt and other free certificate providers.


**Motivational Note:** Understanding the underlying mechanisms of online security empowers you to make informed decisions and protect yourself from potential threats.  Continue exploring these concepts and apply your knowledge to enhance your online safety and privacy.